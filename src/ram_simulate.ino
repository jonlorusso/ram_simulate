int inputPins[3] = { 11, 12, 13 };
int outputPins[8] = { 3, 4, 5, 6, 7, 8, 9, 10 };

void setup() {
  for (int i = 0; i < 3; i++) {
    pinMode(inputPins[i], INPUT);
  }
  
  for (int i = 0; i < 8; i++) {
    pinMode(outputPins[i], OUTPUT);
  }
}

byte data[14][8] = {
  { B00000001, B00000010, B00000100, B00001000, B00010000, B00100000, B01000000, B10000000 },
  { B00000010, B00000100, B00000100, B00001000, B00010000, B00100000, B00100000, B01000000 },
  { B00000100, B00000100, B00001000, B00001000, B00010000, B00010000, B00100000, B00100000 },
  { B00001000, B00001000, B00001000, B00001000, B00010000, B00010000, B00010000, B00010000 },
  { B00010000, B00010000, B00010000, B00010000, B00001000, B00001000, B00001000, B00001000 },
  { B00100000, B00100000, B00010000, B00010000, B00001000, B00001000, B00000100, B00000100 },
  { B01000000, B00100000, B00100000, B00010000, B00001000, B00000100, B00000100, B00000010 },
  { B10000000, B01000000, B00100000, B00010000, B00001000, B00000100, B00000010, B00000001 },
  { B00000000, B10000000, B01000000, B00110000, B00001100, B00000010, B00000001, B00000000 },
  { B00000000, B00000000, B10000000, B01110000, B00001110, B00000001, B00000000, B00000000 },
  { B00000000, B00000000, B00000000, B11110000, B00001111, B00000000, B00000000, B00000000 },
  { B00000000, B00000000, B00000000, B00001111, B11110000, B00000000, B00000000, B00000000 },
  { B00000000, B00000000, B00000001, B00001110, B01110000, B10000000, B00000000, B00000000 },
  { B00000000, B00000001, B00000010, B00001100, B00110000, B01000000, B10000000, B00000000 }
};


void writeData(int index) {
    for (int i = 0; i < 8; i++) {
      digitalWrite(outputPins[i], data[frame][index] & (1 << i));
    }
}

int frame = 0;
long previous = 0;

void loop() {  
  if (millis() - previous > 1000) {
    previous = millis();
    frame = (frame + 1) % 14;
  }
  
  int index = 0;
  for (int i = 0; i < 3; i++) {
    index |= ( digitalRead(inputPins[i]) << i );
  }

  writeData(index);
}
